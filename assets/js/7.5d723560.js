(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{189:function(a,t,s){"use strict";s.r(t);var e=s(0),r=Object(e.a)({},function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#介绍","aria-hidden":"true"}},[a._v("#")]),a._v(" 介绍")]),a._v(" "),s("p",[s("code",[a._v("baiyue_onekey")]),a._v("是由"),s("code",[a._v("佰阅部落")]),a._v("站长经过学习相关"),s("code",[a._v("Docker")]),a._v("、"),s("code",[a._v("linux")]),a._v("及其它程序语言后，自制整理的一键脚本。大部分优质开源项目都在博客中有详细图文和视频教程，内容涉及基础环境安装、博客类、付费视频类、云盘类、55R类、下载类程序、发卡类程序等等。")]),a._v(" "),s("p",[a._v("每一个程序，都集成到一键脚本里，运行是给出对应的菜单，需要输入的地方会有中文提示，方便快速部署。部署结束时，会给出相应的"),s("code",[a._v("程序源码目录")]),a._v("、"),s("code",[a._v("访问地址")]),a._v("、"),s("code",[a._v("注意事项")]),a._v("及"),s("code",[a._v("曾经写过的详细说明文档")]),a._v("。")]),a._v(" "),s("h2",{attrs:{id:"脚本是如何工作的？"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#脚本是如何工作的？","aria-hidden":"true"}},[a._v("#")]),a._v(" 脚本是如何工作的？")]),a._v(" "),s("p",[a._v("脚本基于"),s("code",[a._v("shell")]),a._v("命令，运行前会根据"),s("code",[a._v("相关命令")]),a._v("检测系统环境是否满足需要的条件，如果满足则执行安装，不满足的话，首先安装需要的基础工具，再执行安装。")]),a._v(" "),s("p",[a._v("示例：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" -x "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("command")]),a._v(" -v docker"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("then")]),a._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"您的系统已安装docker"')]),a._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# command")]),a._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("else")]),a._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"开始安装docker。。。"')]),a._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# command")]),a._v("\n\t\tinstall_docker\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#执行安装docker命令        ")]),a._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("fi")]),a._v("\n")])])]),s("p",[a._v("同理，脚本会自动完善需要手动操作的所有过程，直至运行结束，给出最终结果。（目前最终结果未做"),s("code",[a._v("是否运行正常")]),a._v("检测，所以有问题请及时"),s("a",{attrs:{href:"https://github.com/Baiyuetribe/baiyue_onekey/issues/new?template=bug.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("提交反馈"),s("OutboundLink")],1),a._v("）")]),a._v(" "),s("h2",{attrs:{id:"脚本为什么可以运行不同版本的linux系统？"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#脚本为什么可以运行不同版本的linux系统？","aria-hidden":"true"}},[a._v("#")]),a._v(" 脚本为什么可以运行不同版本的linux系统？")]),a._v(" "),s("p",[s("code",[a._v("baiyue_onekey")]),a._v("主要是基于Docker做的一键脚本，因此，脚本执行前会判断系统环境，从而执行对应的安装docker命令，在docker环境下，任何机器执行的命令都是一样的，类似"),s("code",[a._v("node")]),a._v("环境下执行"),s("code",[a._v("npm命令")]),a._v("。")]),a._v(" "),s("p",[a._v("示例：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" -x "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("command")]),a._v(" -v yum"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("then")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("command")]),a._v(" -v "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" /dev/null "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("||")]),a._v(" yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -y "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("elif")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" -x "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("command")]),a._v(" -v "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("then")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("command")]),a._v(" -v "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" /dev/null "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("||")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -y "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("else")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Package manager is not support this OS. Only support to use yum/apt."')]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("exit")]),a._v(" -1\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("fi")]),a._v("\n")])])]),s("p",[a._v("检测系统环境是否有yum命令，有的话执行yum，适用于"),s("code",[a._v("centos7")]),a._v("等系统,如果不存在，则检测系统环境是否有"),s("code",[a._v("apt")]),a._v("命令，有的话执行"),s("code",[a._v("apt")]),a._v("工具，适用于"),s("code",[a._v("ubuntu\\debian")]),a._v("等系统。否则提示环境不受支持。")]),a._v(" "),s("h2",{attrs:{id:"为什么选用docker？"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为什么选用docker？","aria-hidden":"true"}},[a._v("#")]),a._v(" 为什么选用Docker？")]),a._v(" "),s("p",[s("code",[a._v("Docker")]),a._v("用一句话概括就是：一个麻雀虽小五脏俱全的linux系统，只保留应用程序必要的成分。")]),a._v(" "),s("h3",{attrs:{id:"docker支持哪些设备？"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker支持哪些设备？","aria-hidden":"true"}},[a._v("#")]),a._v(" Docker支持哪些设备？")]),a._v(" "),s("ul",[s("li",[a._v("服务器："),s("code",[a._v("Ubuntu")]),a._v("、"),s("code",[a._v("centos7")]),a._v("、"),s("code",[a._v("Debian")]),a._v("、``")]),a._v(" "),s("li",[a._v("MacOS设备")]),a._v(" "),s("li",[a._v("WIN10设备：桌面版或"),s("code",[a._v("win10子系统（如ubuntu、debian...）")])]),a._v(" "),s("li",[a._v("安卓设备：目前非root无法支持。")])]),a._v(" "),s("h3",{attrs:{id:"docker的优势"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker的优势","aria-hidden":"true"}},[a._v("#")]),a._v(" Docker的优势")]),a._v(" "),s("ul",[s("li",[a._v("一次创建，后期代码变更后，能第一时间秒速更新")]),a._v(" "),s("li",[a._v("容器化打包技术，部署任意平台呈现一样的结果")]),a._v(" "),s("li",[a._v("可支持设备广泛：不论是服务器、个人电脑或笔记本、还是树莓派都支持")]),a._v(" "),s("li",[a._v("创建、管理、二开、更新都非常迅速。")]),a._v(" "),s("li",[a._v("容器集群方便，比如树莓派官网就是有16台树莓派4搭建的。")])]),a._v(" "),s("h3",{attrs:{id:"docker的评价："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker的评价：","aria-hidden":"true"}},[a._v("#")]),a._v(" Docker的评价：")]),a._v(" "),s("blockquote",[s("p",[a._v("在2019年Stack Overflow开发人员调查中，开发人员将Docker评为：")]),a._v(" "),s("p",[a._v("最受欢迎的平台，\n最喜欢的平台，\n最常用的平台。")])]),a._v(" "),s("h3",{attrs:{id:"docker的安装方法："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker的安装方法：","aria-hidden":"true"}},[a._v("#")]),a._v(" Docker的安装方法：")]),a._v(" "),s("p",[s("code",[a._v("baiyue_onekey")]),a._v("已集成docker安装检测方法，任意安装都会执行检测，所以，可以无视存在。如果想手动安装，请参考官方教程或执行以下命令：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("docker version "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" /dev/null "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("||")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -fsSL get.docker.com "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v(" \n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("service")]),a._v(" docker restart \nsystemctl "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("enable")]),a._v(" docker  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#设置开机自启")]),a._v("\n")])])]),s("h1",{attrs:{id:"基本命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本命令","aria-hidden":"true"}},[a._v("#")]),a._v(" 基本命令")]),a._v(" "),s("h2",{attrs:{id:"常用命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用命令","aria-hidden":"true"}},[a._v("#")]),a._v(" 常用命令")]),a._v(" "),s("p",[s("code",[a._v("baiyue_onekey")]),a._v("因为自带环境检测，所以整个流程非常简单、小白化，不懂任何代码都可以轻松实现最终部署效果。但是你想更进一步，就得掌握以下内容：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("docker images   "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查看所有docker映像")]),a._v("\ndocker "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查看所有容器")]),a._v("\ndocker "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" -a    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查看正在运行中的容器")]),a._v("\ndocker logs XXX\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查看容器日志（xxx为容器id前3位）")]),a._v("\ndocker stop XXX  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#停止运行xxxx容器（xxx为容器id前3位）")]),a._v("\ndocker rmi image-name   "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#删除一个映像")]),a._v("\ndocker rmi -r "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("docker images -q"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#删除所有映像")]),a._v("\ndocker "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("docker "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" -a -q"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#删除所有容器")]),a._v("\ndocker "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("exec")]),a._v(" -it XXX "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#进入容器（xxx为容器id前3位）")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("exit")]),a._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#退出容器")]),a._v("\nctrl+c    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#退出当前容器并结束该容器")]),a._v("\n")])])]),s("p",[a._v("清理：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("docker system prune -a\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#此命令会提示清理左右已停止、未使用的容器、镜像、网络、volume等等")]),a._v("\n")])])]),s("h1",{attrs:{id:"docker拓展"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker拓展","aria-hidden":"true"}},[a._v("#")]),a._v(" Docker拓展")]),a._v(" "),s("h2",{attrs:{id:"docker-swarm集群"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-swarm集群","aria-hidden":"true"}},[a._v("#")]),a._v(" Docker Swarm集群")]),a._v(" "),s("p",[a._v("有空再写")]),a._v(" "),s("h2",{attrs:{id:"文件管理器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件管理器","aria-hidden":"true"}},[a._v("#")]),a._v(" 文件管理器")]),a._v(" "),s("p",[a._v("文件管理器方便我们可视化操作，目前比较常用的有"),s("code",[a._v("h5ai")]),a._v("、"),s("code",[a._v("filebrows")]),a._v("、"),s("code",[a._v("kodcloud")]),a._v("等等。")]),a._v(" "),s("p",[a._v("比较常用的就是"),s("code",[a._v("kodcloud")]),a._v("，可视化界面，中文交互界面友好，支持众多主题、代码支持等等。")]),a._v(" "),s("p",[a._v("RUN:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("docker run -d -p 999:80 --name kodexplorer -v "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$PWD")]),a._v('"')]),a._v(":/code baiyuetribe/kodexplorer\n")])])]),s("p",[a._v("其中"),s("code",[a._v('"$PWD"')]),a._v("代表当前文件目录，执行完毕后，访问http://ip:999即可进入，然后在"),s("code",[a._v("文件管理")]),a._v("输入路径"),s("code",[a._v("/code")]),a._v("就可以看到挂载的文件内容。通常本站将各种程序源码放到"),s("code",[a._v("/opt")]),a._v("目录下，因此也可以进入该目录后执行上述命令，以后所有源码都可以进行管理了。")]),a._v(" "),s("h2",{attrs:{id:"ctop一款容器管理及监视工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctop一款容器管理及监视工具","aria-hidden":"true"}},[a._v("#")]),a._v(" CTOP一款容器管理及监视工具")]),a._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://baiyue.one/archives/1135.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("CTOP一款管理Docker容器的TOP命令"),s("OutboundLink")],1)])])])},[],!1,null,null,null);t.default=r.exports}}]);